<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<style type="text/css">
			body {
				background-color: black;
				margin: 0;
			}
			div.row div {
				width: 20px;
				height: 20px;
				display: inline-block;
			}
			div.row {
				height: 20px;
			}
			div.brick {
				background-color: blue;
			}
			div.cherry {
				background-image: url(cherry.png);
				background-repeat: no-repeat;
				background-size: cover;
			}
			div.coin {
				background-image: url(coin.gif);
				background-repeat: no-repeat;
				background-size: cover;
			}
			div.empty {
				background-color: transparent;
			}
			div#pacman {
				background-image: url(pacman.gif);
				background-repeat: no-repeat;
				background-size: cover;
				width: 20px;
				height: 20px;
				position: absolute;
			}
			div#ghost {
				background-image: url(ghostred.gif);
				background-repeat: no-repeat;
				background-size: cover;
				width: 20px;
				height: 20px;
				position: absolute;
			}
			div#score {
				border: 1px solid white;
				width: 30px;
				height: 30px;
				color: white;
				padding: 7px;
				text-align: center;
				position: absolute;
				top: 20px;
				left: 360px;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div id="world"></div>
			<div id="pacman"></div>
			<div id="ghost"></div>
			<div id="score">0</div>
		</div>

		<script>
			
			
			var world1 = [
				[2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
				[2, 0, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 3, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 0, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 3, 1, 1, 1, 2, 1, 1, 1, 1, 3, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 2],
				[2, 1, 3, 1, 2, 1, 1, 1, 1, 3, 1, 1, 2, 1, 1, 1, 2],
				[2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 0, 1, 2],
				[2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
			];

			var world2 = [
				[2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
				[2, 0, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 2, 2, 2, 2, 2, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 2, 1, 1, 1, 0, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 2, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 3, 1, 1, 1, 2, 1, 1, 1, 1, 3, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 2],
				[2, 1, 3, 1, 2, 1, 1, 1, 1, 3, 1, 1, 2, 1, 1, 1, 2],
				[2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 0, 1, 2],
				[2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
			];

			var world3 = [
				[2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
				[2, 0, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1, 1, 2],
				[2, 2, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 2, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 3, 1, 1, 1, 2, 1, 1, 1, 1, 3, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 2],
				[2, 1, 3, 1, 3, 1, 1, 1, 1, 3, 1, 1, 2, 1, 1, 1, 2],
				[2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 0, 1, 2],
				[2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
			];

			var world4 = [
				[2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
				[2, 0, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 3, 1, 1, 2, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 2, 1, 1, 2, 2, 1, 1, 2, 1, 1, 1, 2],
				[2, 2, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 3, 1, 1, 1, 2],
				[2, 2, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 3, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 2],
				[2, 1, 3, 1, 0, 1, 1, 1, 1, 3, 1, 1, 2, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 0, 1, 2],
				[2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
			];

			var world5 = [
				[2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
				[2, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 3, 1, 1, 2, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 2],
				[2, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 2],
				[2, 2, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 3, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2],
				[2, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 2],
				[2, 1, 3, 1, 1, 1, 1, 1, 1, 3, 1, 1, 2, 1, 1, 1, 2],
				[2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 0, 1, 2],
				[2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
			];

			var random = parseInt(Math.random() * 4) + 1;
			worlds = [world1, world2, world3, world4, world5]
			world = worlds[random]

			var score = 0;

			var pacman = {
				x: 1,
				y: 1,
			};
			var ghost = {
				x: 4,
				y: 6,
			};

			function displayWorld() {
				var output = "";
				for (var i = 0; i < world.length; i++) {
					output += "\n<div class='row'>\n";
					for (var j = 0; j < world[i].length; j++) {
						if (world[i][j] == 2) output += "<div class='brick'></div>";
						else if (world[i][j] == 1) output += "<div class='coin'></div>";
						else if (world[i][j] == 3) output += "<div class='cherry'></div>";
						else if (world[i][j] == 0) output += "<div class='empty'></div>";
					}
					output += "\n</div>";
				}
				console.log(output);
				document.getElementById("world").innerHTML = output;
			}

			function displayPacman() {
				document.getElementById("pacman").style.top = pacman.y * 20 + "px";
				document.getElementById("pacman").style.left = pacman.x * 20 + "px";
			}
			function displayGhost() {
				document.getElementById("ghost").style.top = ghost.y * 20 + "px";
				document.getElementById("ghost").style.left = ghost.x * 20 + "px";
			}

			function displayScore() {
				document.getElementById("score").innerHTML = score;
			}

			displayWorld();
			displayPacman();
			displayGhost();
			displayScore();

			document.onkeydown = function (e) {
				if (e.keyCode == 37 && world[pacman.y][pacman.x - 1] != 2) {
					pacman.x--;
				} else if (e.keyCode == 39 && world[pacman.y][pacman.x + 1] != 2) {
					pacman.x++;
				} else if (e.keyCode == 38 && world[pacman.y - 1][pacman.x] != 2) {
					pacman.y--;
				} else if (e.keyCode == 40 && world[pacman.y + 1][pacman.x] != 2) {
					pacman.y++;
				}

				if (world[pacman.y][pacman.x] == 1) {
					world[pacman.y][pacman.x] = 0;
					score += 10;
					displayWorld();
					displayScore();
				} else if (world[pacman.y][pacman.x] == 3) {
					world[pacman.y][pacman.x] = 0;
					score += 20;
					displayWorld();
					displayScore();
				}

				//console.log(e.keyCode)
				displayPacman();
			};
		</script>
	</body>
</html>
